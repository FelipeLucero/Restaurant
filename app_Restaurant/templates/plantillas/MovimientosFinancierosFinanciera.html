


{% extends 'plantillas/Restaurant.html' %}

<!DOCTYPE html>
<html lang="en">
<head>
    {% block head %}
    <link rel="shortcut icon" href="#">
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
	<title>Movimientos Financieros</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha2/css/bootstrap.min.css" integrity="sha384-DhY6onE6f3zzKbjUPRc2hOzGAdEf4/Dz+WJwBvEYL/lkkIsI3ihufq9hk9K4lVoK" crossorigin="anonymous">
    <link rel="stylesheet" href="static/css/diseño2.css"> 
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha2/js/bootstrap.bundle.min.js" integrity="sha384-BOsAfwzjNJHrJ8cZidOg56tcQWfp6y72vEJ8xQ9w6Quywb24iOsW913URv1IS4GD" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@10.0.2/dist/sweetalert2.min.css"> 
	<link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.22/css/dataTables.bootstrap5.min.css">
    
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Handlee" rel="stylesheet">

    <style>
        table.dataTable thead {
           background-color:#262325;
           color:aliceblue;
        }     
        
        a{
            text-decoration: none;
            color: #fff;
        }
        
        .botonesFuncionalidades {background-color:#262325 ; color:#D35400; border-color: #D35400; }
        
        .btn:hover{
            color: green ;
            background: black;
        }
        
    </style>

    {% endblock %}
</head>



<body>
    {% block contenido %}
    <div class="mx-auto  main-section" id="myTab" role="tablist"></div>
        <ul class="nav nav-tabs nav-pills justify-content-lg-center">
            <li class="nav-item"  style="background-color: #262325;">
                <a  style="color: #D35400; font-size: 20px;  text-decoration: none; " class="nav-link active" id="stock-tab" data-toggle="tab" href="#stock" role="tab" aria-controls="stock" aria-selected="false">Solicitudes</a>
            </li>
        
            <li class="nav-item"  style="background-color: #262325">
                <a   style="color:#D35400; font-size: 20px; text-decoration: none;  " class="nav-link" id="movi-tab" data-toggle="tab" href="#movi" role="tab" aria-controls="movi" aria-selected="true">Pedidos</a>	
            </li>

            
        </ul>

        <div class="tab-content" id="myTabContent">
            <div class="tab-pane fade show active" id="stock" role="tabpanel" aria-labelledby="list-tab">
                <div class="container-fluid">
                    
                    <button id="btnVolver" class="btn btn-dark mt-2"  onclick="location.href='http://127.0.0.1:8000/MenuFinanciera'">Volver Menu</button>
                    <div class="row shadow-lg p-3 mb-5">
                        <div class="col">
                            <table id="tablaProductos" class="table table-striped table-bordered" style="width:100%">
                            <thead>
                                <tr>
                                    <th>Fecha Solicitud</th>
                                    <th>Total</th> 
                                    <th>Estado</th>   
                                      
                                                                          
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                            </table> 
                        </div>
                    </div>
                </div>
            </div>
        
            

            <div class="tab-pane fade" id="movi" role="tabpanel" aria-labelledby="list-tab">
                <div class="container-fluid">
                    <button id="btnVolver" class="btn btn-dark mt-2"  onclick="location.href='http://127.0.0.1:8000/MenuFinanciera'">Volver Menu</button>
                    <div class="row shadow-lg p-3 mb-5">
                        <div class="col">
                            <table id="tablaMovimientos" class="table table-striped table-bordered" style="width:100%">
                            <thead>
                                <tr>
                                    
                                    <th>Fecha Pedido</th>
                                    <th>Total</th> 
                                    <th>Estado Pedido</th>     
                                    <th>Metodo de Pago</th>                                                                     
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                            </table> 
                        </div>
                    </div>
                </div>
            </div>

        </div>


    </div>



 
    
    
    <script type="text/javascript" language="javascript" src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha2/js/bootstrap.min.js" integrity="sha384-5h4UG+6GOuV9qXh6HqOLwZMY4mnLPraeTrjT5v07o347pj6IkfuoASuGBhfDsp3d" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10.0.2/dist/sweetalert2.all.min.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.10.22/js/dataTables.bootstrap5.min.js"></script>  

    <script>

        $(document).ready(function() { 
            let url = 'https://cors-anywhere.herokuapp.com/52.3.46.105/api/SolProv/aprobadas';
            
            
            let tablaProductos = $('#tablaProductos').DataTable({            
                "ajax":{
                    "url": url,
                    "dataSrc":""
                },
                "columns":[
                    
                    {"data":"fechaSolicitud"},
                    {"data":"total"},
                    {"data":"estadoSol"},
                    
                    
                ],

                //Para cambiar idioma a español del datatable
                "language":{
                    "lengthMenu": "Mostrar _MENU_ registros",
                    "zeroRecords": "No se encontraron resultados",
                    "info": "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
                    "infoEmpty": "Mostrando registros del 0 al 0 de un total de 0 registros",
                    "infoFiltered": "(filtrado de un total de _MAX_ registros)",
                    "sSearch": "Buscar Producto:",
                    "oPaginate":{
                    "sFirst": "Primero",
                    "sLast":"Último",
                    "sNext":"Siguiente",
                    "sPrevious": "Anterior"
                    },
                    "sProcessing":"Procesando...",
                },

            });



        });


        
        $(document).ready(function() {   
            let url = 'https://cors-anywhere.herokuapp.com/52.3.46.105/api/Producto';
            let urlAgregar = 'https://cors-anywhere.herokuapp.com/52.3.46.105/api/Producto/agregarStock/';
            let urlRetirar = 'https://cors-anywhere.herokuapp.com/52.3.46.105/api/Producto/retirarDelStock/';
            let urlMovi = 'https://cors-anywhere.herokuapp.com/52.3.46.105/api/Pedido/pagados';
            let opcion = null;
            let  total, fecha, estadoPed,metodoPago;
            //MOSTRAR
          
            
            let tablaMovimientos = $('#tablaMovimientos').DataTable({            
                "ajax":{
                    "url": urlMovi,
                    "dataSrc":""
                },
                "columns":[
                    
                    {"data":"total"},
                    {"data":"fecha"},
                    {"data":"estadoPed"},
                    {"data":"metodoPago"},
                ],

                //Para cambiar idioma a español del datatable
                "language":{
                    "lengthMenu": "Mostrar _MENU_ registros",
                    "zeroRecords": "No se encontraron resultados",
                    "info": "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
                    "infoEmpty": "Mostrando registros del 0 al 0 de un total de 0 registros",
                    "infoFiltered": "(filtrado de un total de _MAX_ registros)",
                    "sSearch": "Buscar Movimiento:",
                    "oPaginate":{
                    "sFirst": "Primero",
                    "sLast":"Último",
                    "sNext":"Siguiente",
                    "sPrevious": "Anterior"
                    },
                    "sProcessing":"Procesando...",
                },

            });

        });
        
    </script>

{% endblock %}

</body>
</html>